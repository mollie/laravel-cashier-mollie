<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Subscription Trials | Laravel Cashier Mollie v2</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/manifest.json">
    <script src="https://cdn.usefathom.com/script.js" spa="auto" site="ANMLOYPH" defer="true"></script>
    <meta name="description" content="Laravel Cashier provides an expressive, fluent interface to subscriptions using Mollie&#39;s billing services.">
    <meta name="theme-color" content="#ffffff">
    <meta name="viewport" content="width=device-width">
    
    <link rel="preload" href="/assets/css/0.styles.359cd878.css" as="style"><link rel="preload" href="/assets/js/app.fcf18d50.js" as="script"><link rel="preload" href="/assets/js/2.38511147.js" as="script"><link rel="preload" href="/assets/js/1.59beea3b.js" as="script"><link rel="preload" href="/assets/js/26.cb82d887.js" as="script"><link rel="preload" href="/assets/js/19.ab717a18.js" as="script"><link rel="prefetch" href="/assets/js/10.6b754ae1.js"><link rel="prefetch" href="/assets/js/11.d9989b9f.js"><link rel="prefetch" href="/assets/js/12.b1fabc43.js"><link rel="prefetch" href="/assets/js/13.1cb5ee61.js"><link rel="prefetch" href="/assets/js/14.fe7a12cb.js"><link rel="prefetch" href="/assets/js/15.54cfc835.js"><link rel="prefetch" href="/assets/js/16.73fba09f.js"><link rel="prefetch" href="/assets/js/17.919259a1.js"><link rel="prefetch" href="/assets/js/18.dbf08a99.js"><link rel="prefetch" href="/assets/js/20.69ba80bc.js"><link rel="prefetch" href="/assets/js/21.d9e3d872.js"><link rel="prefetch" href="/assets/js/22.3d79b29e.js"><link rel="prefetch" href="/assets/js/23.74238d94.js"><link rel="prefetch" href="/assets/js/24.8d246edb.js"><link rel="prefetch" href="/assets/js/25.a6ba3d22.js"><link rel="prefetch" href="/assets/js/27.86329ce0.js"><link rel="prefetch" href="/assets/js/28.07e79d43.js"><link rel="prefetch" href="/assets/js/29.2e552cce.js"><link rel="prefetch" href="/assets/js/3.b11f09c4.js"><link rel="prefetch" href="/assets/js/30.361376e2.js"><link rel="prefetch" href="/assets/js/31.90df113b.js"><link rel="prefetch" href="/assets/js/32.23fa1041.js"><link rel="prefetch" href="/assets/js/33.4169f70b.js"><link rel="prefetch" href="/assets/js/34.75e8e6aa.js"><link rel="prefetch" href="/assets/js/35.7a946bbe.js"><link rel="prefetch" href="/assets/js/36.2d44eaad.js"><link rel="prefetch" href="/assets/js/37.88ef5c50.js"><link rel="prefetch" href="/assets/js/38.9d5e7a05.js"><link rel="prefetch" href="/assets/js/39.3d1f895b.js"><link rel="prefetch" href="/assets/js/4.b16263cd.js"><link rel="prefetch" href="/assets/js/40.5c0a2311.js"><link rel="prefetch" href="/assets/js/5.280719b2.js"><link rel="prefetch" href="/assets/js/6.b85cedd4.js"><link rel="prefetch" href="/assets/js/7.b1184ded.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.38ba84f9.js">
    <link rel="stylesheet" href="/assets/css/0.styles.359cd878.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/assets/img/cashier-mollie.svg" alt="Laravel Cashier Mollie v2" class="logo"> <span class="site-name can-hide">Laravel Cashier Mollie v2</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"> <a href="https://github.com/mollie/laravel-cashier-mollie" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/mollie/laravel-cashier-mollie" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/" aria-current="page" class="sidebar-link">Introduction</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/01-installation.html" class="sidebar-link">Installation</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/01-installation.html#setup" class="sidebar-link">Setup</a></li></ul></li><li><a href="/13-upgrade.html" class="sidebar-link">Upgrade Guide</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/13-upgrade.html#preparations" class="sidebar-link">Preparations</a></li><li class="sidebar-sub-header"><a href="/13-upgrade.html#upgrading-to-2-0-from-1-x" class="sidebar-link">Upgrading To 2.0 From 1.x</a></li></ul></li><li><a href="/16-configuration.html" class="sidebar-link">Configuration</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/16-configuration.html#custom-models" class="sidebar-link">Custom Models</a></li></ul></li><li><a href="/02-subscriptions.html" class="sidebar-link">Subscriptions</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/02-subscriptions.html#creating-subscriptions" class="sidebar-link">Creating subscriptions</a></li><li class="sidebar-sub-header"><a href="/02-subscriptions.html#coupons" class="sidebar-link">Coupons</a></li><li class="sidebar-sub-header"><a href="/02-subscriptions.html#checking-subscription-status" class="sidebar-link">Checking subscription status</a></li><li class="sidebar-sub-header"><a href="/02-subscriptions.html#cancelled-subscription-status" class="sidebar-link">Cancelled subscription status</a></li><li class="sidebar-sub-header"><a href="/02-subscriptions.html#changing-plans" class="sidebar-link">Changing plans</a></li><li class="sidebar-sub-header"><a href="/02-subscriptions.html#subscription-quantity" class="sidebar-link">Subscription quantity</a></li><li class="sidebar-sub-header"><a href="/02-subscriptions.html#subscription-taxes" class="sidebar-link">Subscription taxes</a></li><li class="sidebar-sub-header"><a href="/02-subscriptions.html#cancelling-subscriptions" class="sidebar-link">Cancelling subscriptions</a></li><li class="sidebar-sub-header"><a href="/02-subscriptions.html#resuming-subscriptions" class="sidebar-link">Resuming subscriptions</a></li><li class="sidebar-sub-header"><a href="/02-subscriptions.html#subscription-scopes" class="sidebar-link">Subscription Scopes</a></li></ul></li><li><a href="/03-trials.html" aria-current="page" class="active sidebar-link">Subscription Trials</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/03-trials.html#with-mandate-upfront" class="sidebar-link">With mandate upfront</a></li><li class="sidebar-sub-header"><a href="/03-trials.html#without-mandate-upfront" class="sidebar-link">Without mandate upfront</a></li></ul></li><li><a href="/04-charges.html" class="sidebar-link">Charges</a></li><li><a href="/05-metered.html" class="sidebar-link">Metered billing</a></li><li><a href="/06-customer.html" class="sidebar-link">Customer</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/06-customer.html#updating-customer-payment-method" class="sidebar-link">Updating customer payment method</a></li><li class="sidebar-sub-header"><a href="/06-customer.html#customer-balance" class="sidebar-link">Customer balance</a></li><li class="sidebar-sub-header"><a href="/06-customer.html#customer-locale" class="sidebar-link">Customer locale</a></li></ul></li><li><a href="/07-invoices.html" class="sidebar-link">Invoices</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/07-invoices.html#finding-a-specific-invoice" class="sidebar-link">Finding a specific invoice</a></li></ul></li><li><a href="/08-refunds.html" class="sidebar-link">Refunds</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/08-refunds.html#performing-a-complete-refund" class="sidebar-link">Performing a complete refund</a></li><li class="sidebar-sub-header"><a href="/08-refunds.html#performing-advanced-refunds" class="sidebar-link">Performing advanced refunds</a></li><li class="sidebar-sub-header"><a href="/08-refunds.html#credit-orders-and-invoices" class="sidebar-link">Credit orders and invoices</a></li></ul></li><li><a href="/14-retry.html" class="sidebar-link">Handling failed payments</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/14-retry.html#subscriptions-and-failed-payments" class="sidebar-link">Subscriptions and failed payments</a></li></ul></li><li><a href="/09-events.html" class="sidebar-link">Events</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/15-localization.html" class="sidebar-link">Localization</a></li><li><a href="/10-webhook.html" class="sidebar-link">Mollie webhook event handling</a></li><li><a href="/11-testing.html" class="sidebar-link">Testing</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/11-testing.html#enable-mollie-integration-tests" class="sidebar-link">Enable Mollie integration tests</a></li></ul></li><li><a href="/12-faq.html" class="sidebar-link">F.A.Q.</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/12-faq.html#ok-so-how-does-this-subscription-magic-actually-work" class="sidebar-link">Ok. So how does this subscription magic actually work?</a></li><li class="sidebar-sub-header"><a href="/12-faq.html#my-billable-model-uses-uuids-how-can-i-get-cashier-mollie-to-work-with-this" class="sidebar-link">My billable model uses UUIDs, how can I get Cashier Mollie to work with this?</a></li><li class="sidebar-sub-header"><a href="/12-faq.html#how-is-prorating-handled" class="sidebar-link">How is prorating handled?</a></li><li class="sidebar-sub-header"><a href="/12-faq.html#how-can-i-load-coupons-and-or-plans-from-the-database" class="sidebar-link">How can I load coupons and/or plans from the database?</a></li></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="subscription-trials"><a href="#subscription-trials" class="header-anchor">#</a> Subscription Trials</h1> <h2 id="with-mandate-upfront"><a href="#with-mandate-upfront" class="header-anchor">#</a> With mandate upfront</h2> <p>If you would like to offer trial periods to your customers while still collecting payment method information up front,
you should use the <code>trialDays</code> method when creating your subscriptions:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$user</span> <span class="token operator">=</span> <span class="token class-name static-context">User</span><span class="token operator">::</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$user</span><span class="token operator">-&gt;</span><span class="token function">newSubscription</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'main'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'monthly'</span><span class="token punctuation">)</span>
            <span class="token operator">-&gt;</span><span class="token function">trialDays</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
            <span class="token operator">-&gt;</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>This method will set the trial period ending date on the subscription record within the database.</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>The customer will be redirected to the Mollie checkout page to make the first payment in order to register a mandate. You can modify the amount in the cashier config file.</p></div> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>If the customer's subscription is not cancelled before the trial ending date they will be charged as soon as the trial
expires. For the best customer experience, notify the user when the trial is close to expire. This prevents the user from receiving an invoice by surprise.</p></div> <p>The <code>trialUntil</code> method allows you to provide a <code>Carbon</code> instance to specify when the trial period should end:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">use</span> <span class="token package">Carbon<span class="token punctuation">\</span>Carbon</span><span class="token punctuation">;</span>

<span class="token variable">$user</span><span class="token operator">-&gt;</span><span class="token function">newSubscription</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'main'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'monthly'</span><span class="token punctuation">)</span>
    <span class="token operator">-&gt;</span><span class="token function">trialUntil</span><span class="token punctuation">(</span><span class="token class-name static-context">Carbon</span><span class="token operator">::</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">addDays</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token operator">-&gt;</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>You may determine if the user is within their trial period using either the <code>onTrial</code> method of the user instance, or
the <code>onTrial</code> method of the subscription instance. The two examples below yield the same result:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$user</span><span class="token operator">-&gt;</span><span class="token function">onTrial</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'main'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//</span>
<span class="token punctuation">}</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$user</span><span class="token operator">-&gt;</span><span class="token function">subscription</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'main'</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">onTrial</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="without-mandate-upfront"><a href="#without-mandate-upfront" class="header-anchor">#</a> Without mandate upfront</h2> <p>If you would like to offer trial periods without collecting the user's payment method information up front, you may set
the <code>trial_ends_at</code> column on the user record to your desired trial ending date. This is typically done during user
registration:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$user</span> <span class="token operator">=</span> <span class="token class-name static-context">User</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token comment">// Populate other user properties...</span>
    <span class="token string single-quoted-string">'trial_ends_at'</span> <span class="token operator">=&gt;</span> <span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">addDays</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>Be sure to add a <a href="https://laravel.com/docs/eloquent-mutators#date-mutators" target="_blank" rel="noopener noreferrer">date mutator<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> for <code>trial_ends_at</code> to your model definition.</p></div> <p>Cashier refers to this type of trial as a &quot;generic trial&quot;, since it is not attached to any existing subscription.
The <code>onTrial</code> method on the <code>User</code> instance will return <code>true</code> if the current date is not past the value of
<code>trial_ends_at</code>:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$user</span><span class="token operator">-&gt;</span><span class="token function">onTrial</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// User is within their trial period...</span>
<span class="token punctuation">}</span>
</code></pre></div><p>You may also use the <code>onGenericTrial</code> method if you wish to know specifically that the user is within their &quot;generic&quot;
trial period and has not created an actual subscription yet:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$user</span><span class="token operator">-&gt;</span><span class="token function">onGenericTrial</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// User is within their &quot;generic&quot; trial period...</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Once you are ready to create an actual subscription for the user, you may use the <code>newSubscription</code> method as usual:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$user</span> <span class="token operator">=</span> <span class="token class-name static-context">User</span><span class="token operator">::</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$user</span><span class="token operator">-&gt;</span><span class="token function">newSubscription</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'main'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'monthly'</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/mollie/laravel-cashier-mollie/edit/main/docs/03-trials.md" target="_blank" rel="noopener noreferrer">Improve this page (submit a PR)</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">4/22/2024, 8:18:17 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/02-subscriptions.html" class="prev">
        Subscriptions
      </a></span> <span class="next"><a href="/04-charges.html">
        Charges
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.fcf18d50.js" defer></script><script src="/assets/js/2.38511147.js" defer></script><script src="/assets/js/1.59beea3b.js" defer></script><script src="/assets/js/26.cb82d887.js" defer></script><script src="/assets/js/19.ab717a18.js" defer></script>
  </body>
</html>
